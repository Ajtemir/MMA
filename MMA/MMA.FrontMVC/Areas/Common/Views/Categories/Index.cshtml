@using System.Collections
@using MMA.Domain.Common
@model List<Category>

@{
    ViewBag.Title = "Categories";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h2>@ViewBag.Title</h2>
<div class="mt-4">
  <a href='@Url.Action("Add", "Categories", new {Area = "Common"})'>
      <button type="button" class="btn btn-primary btn-lg">Add</button>
  </a>
</div>
<table class="table table-bordered">
  <thead>
  <tr>
      <th scope="col">#</th>
      <th scope="row">Category name</th>
      <th scope="row">Parent Category name</th>
      <th scope="col" class="text-success">Update</th>
      <th scope="col" class="text-danger">Delete</th>
  </tr>
  </thead>
  <tbody>
  @foreach (var category in (IEnumerable<Category>)ViewData["Categories"])
  {
      <tr>
          <th scope="row">@category.CategoryId</th>
          <th scope="row">@category.CategoryName</th>
          <th scope="row">@(category.ParentCategory != null ? category.ParentCategory.CategoryName : "Not Specified")</th>
          <td><a href="@Url.Action("Update","Categories",new{Area="Common", category.CategoryId})"><button type="button" class="btn btn-success d-inline-block">Update</button></a></td>
          <td><a href="@Url.Action("Delete","Categories",new{Area="Common", category.CategoryId})"><button type="button" class="btn btn-danger d-inline-block">Delete</button></a></td>
      </tr>
  }
  
  </tbody>
</table>

